import{S as t,e as p,c as g,h as b,f as E}from"./client.C-2kNzqd.js";import"./ViewTransitions.astro_astro_type_script_index_0_lang.D9ffiitI.js";import"https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js";const h="/";document.addEventListener("astro:page-load",()=>{document.getElementById("trabajaconnostros-form")?.addEventListener("submit",async function(e){e.preventDefault();const o=document.getElementById("submit-button-trbj"),s=o.querySelector("#spinner"),a=o.querySelector("#button-text-trbj"),l=a.textContent;o.disabled=!0,s.classList.remove("hidden"),a.textContent="Enviando...";const i=grecaptcha.getResponse();if(!i){t.fire({title:"Error",text:"Por favor, verifica que no eres un robot.",icon:"error",showConfirmButton:!1,timer:2500}),c();return}const n=new FormData(e.target),m=document.getElementById("description-trbj").value,d={Nombre:n.get("name"),Telefono:n.get("phone"),Compania:n.get("company"),Email:n.get("email"),Detalles:m},u=v(d);p.send(g,b,{from_name:"Q.B Formulario de Contacto - Trabajo",message:u,"g-recaptcha-response":i},{publicKey:E}).then(()=>{let r;t.fire({title:"¡Enviado!",text:"Tu mensaje ha sido enviado correctamente.",icon:"success",timer:2e3,timerProgressBar:!0,didOpen:()=>{t.showLoading();const f=t.getPopup()?.querySelector("b");r=setInterval(()=>{f.textContent=`${t.getTimerLeft()}`},100)},willClose:()=>{clearInterval(r)}}).then(()=>{window.location.reload(),window.location.href=h})},r=>{t.fire({title:"Error",text:JSON.stringify(r),icon:"error"}),c()});function c(){o.disabled=!1,s.classList.add("hidden"),a.textContent=l}})});function v(e){return`
      Nombre: ${e.Nombre}
      Teléfono: ${e.Telefono}
      Email: ${e.Email}
      Detalles: ${e.Detalles}
    `}
