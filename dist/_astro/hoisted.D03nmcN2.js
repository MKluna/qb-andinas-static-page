import{S as t,e as p,P as b,a as g,b as E}from"./client.DyhkFPiM.js";import"./ViewTransitions.astro_astro_type_script_index_0_lang.CIokl8Hn.js";import"https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js";const h="/";document.addEventListener("astro:page-load",()=>{document.getElementById("trabajaconnostros-form").addEventListener("submit",async function(e){e.preventDefault();const o=document.getElementById("submit-button-trbj"),s=o.querySelector("#spinner"),a=o.querySelector("#button-text-trbj"),c=a.textContent;o.disabled=!0,s.classList.remove("hidden"),a.textContent="Enviando...";const i=grecaptcha.getResponse();if(!i){t.fire({title:"Error",text:"Por favor, verifica que no eres un robot.",icon:"error",showConfirmButton:!1,timer:2500}),l();return}const n=new FormData(e.target),m=document.getElementById("description-trbj").value,d={Nombre:n.get("name"),Telefono:n.get("phone"),Compania:n.get("company"),Email:n.get("email"),Detalles:m},u=v(d);p.send(b,g,{from_name:"Q.B Formulario de Contacto - Trabajo",message:u,"g-recaptcha-response":i},{publicKey:E}).then(()=>{let r;t.fire({title:"¡Enviado!",text:"Tu mensaje ha sido enviado correctamente.",icon:"success",timer:2e3,timerProgressBar:!0,didOpen:()=>{t.showLoading();const f=t.getPopup().querySelector("b");r=setInterval(()=>{f.textContent=`${t.getTimerLeft()}`},100)},willClose:()=>{clearInterval(r)}}).then(()=>{window.location.reload(),window.location.href=h})},r=>{t.fire({title:"Error",text:JSON.stringify(r),icon:"error"}),l()});function l(){o.disabled=!1,s.classList.add("hidden"),a.textContent=c}})});function v(e){return`
      Nombre: ${e.Nombre}
      Teléfono: ${e.Telefono}
      Email: ${e.Email}
      Detalles: ${e.Detalles}
    `}
