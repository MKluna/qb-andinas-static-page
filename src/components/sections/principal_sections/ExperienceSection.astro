---
import { Image } from "astro:assets";
import { EXPERIENCE_TXT } from "../../../mock/public-txt";
import Container from "../../shared/Container.astro";
import Title from "../../shared/Title.astro";

import img_1 from "../../../assets/experience/img-1.webp";
import img_2 from "../../../assets/experience/img-2.webp";
import img_3 from "../../../assets/experience/img-3.webp";
import img_4 from "../../../assets/experience/img-4.webp";
import img_5 from "../../../assets/experience/img-5.webp";
import img_6 from "../../../assets/experience/img-6.webp";
import img_7 from "../../../assets/experience/img-7.webp";
import img_8 from "../../../assets/experience/img-8.webp";
import img_9 from "../../../assets/experience/img-9.webp";
import img_10 from "../../../assets/experience/img-10.webp";
import img_11 from "../../../assets/experience/img-11.webp";
import img_12 from "../../../assets/experience/img-12.webp";

const EXPERIENCE_IMG = [
    img_1,
    img_2,
    img_3,
    img_4,
    img_5,
    img_6,
    img_7,
    img_8,
    img_9,
    img_10,
    img_11,
    img_12,
];
---

<section id="experience">
    <Container>
        <div class="w-full relative py-8 md:py-10 px-6 md:px-8 rounded-2xl">
            <div class="relative pt-12">
                <div class="relative mb-10">
                    <div class="text-center max-w-3xl mx-auto mb-12">
                        <Title>Experiencias</Title>
                    </div>
                    <div
                        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 gap-6"
                    >
                        {
                            EXPERIENCE_IMG.map((itm, index) => (
                                <div class="relative w-full h-80">
                                    <Image
                                        src={itm}
                                        alt={`experience-details-${index}`}
                                        class="absolute inset-0 h-full w-full object-cover rounded-lg"
                                        widths={[128, 256, 384, 512]}
                                        sizes={`(max-width: 128px) 128px, (max-width: 256px) 256px, (max-width: 384px) 384px, 512px`}
                                        loading="eager"
                                        decoding="async"
                                        quality={"mid"}
                                    />
                                </div>
                            ))
                        }
                    </div>
                </div>
                <div class="relative lg:ml-36">
                    <div>
                        <div
                            class="py-8 px-4 mx-auto max-w-screen-xl sm:py-16 lg:px-6"
                        >
                            <div
                                class="space-y-8 md:grid md:grid-cols-2 lg:grid-cols-2 md:gap-12 md:space-y-0"
                            >
                                {
                                    EXPERIENCE_TXT.ITEM_LIST.ITEM3.map(
                                        (project, index) => (
                                            <div class="animate-on-scroll">
                                                <div class="flex justify-center items-center mb-4 w-10 h-10 rounded-full bg-primary-100 lg:h-12 lg:w-12 dark:bg-primary-900">
                                                    {/* 
                                            <svg
                                                className="w-5 h-5 text-primary-600 lg:w-6 lg:h-6 dark:text-primary-300"
                                                fill="currentColor"
                                                viewBox="0 0 20 20"
                                                xmlns="http://www.w3.org/2000/svg"
                                            >
                                                <path
                                                    fillRule="evenodd"
                                                    d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z"
                                                    clipRule="evenodd"
                                                />
                                            </svg>
                                            */}
                                                </div>
                                                <h2 class="block antialiased tracking-normal  text-xl font-semibold leading-snug text-inherit mb-2 !font-semibold !text-primary">
                                                    {project.TITLE}
                                                </h2>
                                                <ul class="max-w-md space-y-1 text-gray-900 list-disc list-inside">
                                                    {project.DESCRIPTION.map(
                                                        (itm, i) => (
                                                            <li class="text-lg md:text-sm lg:text-base text-gray-900 dark:text-white">
                                                                {itm}
                                                            </li>
                                                        ),
                                                    )}
                                                </ul>
                                            </div>
                                        ),
                                    )
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center w-full mx-auto max-w-full px-5 rounded-lg">
            <section
                class="relative w-full sm:w-4/5 h-auto sm:h-64 md:h-80 lg:h-96 flex items-center justify-center m-auto mb-12 bg-fixed bg-center bg-cover custom-img"
            >
                <!-- Div con color celeste y efecto de desenfoque personalizado -->
                <div class="blurred-background"></div>

                <!-- Div con el texto -->
                <div class="relative w-full p-4 text-center z-10">
                    <!-- <h1
                        class="mb-2 text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-100"
                    >
                        Nuestros años en el mercado y proyectos nos respaldan.
                    </h1> -->
                    <blockquote
                        class="text-lg sm:text-xl md:text-2xl italic font-semibold text-gray-100 text-center md:text-justify"
                    >
                        <svg
                            class="w-6 h-6 sm:w-8 sm:h-8 text-gray-100 mb-4"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 18 14"
                        >
                            <path
                                d="M6 0H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v1a3 3 0 0 1-3 3H2a1 1 0 0 0 0 2h1a5.006 5.006 0 0 0 5-5V2a2 2 0 0 0-2-2Zm10 0h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v1a3 3 0 0 1-3 3h-1a1 1 0 0 0 0 2h1a5.006 5.006 0 0 0 5-5V2a2 2 0 0 0-2-2Z"
                            ></path>
                        </svg>
                        <p>
                            "QB Andina tiene cuarenta años de trayectoria en el
                            mercado. El compromiso de nuestros colaboradores y
                            accionistas ha sido vital para construir una empresa
                            con capacidad de brindar una amplia gama de
                            servicios. Nuestros proveedores y clientes han sido
                            socios clave en nuestro desarrollo y crecimiento en
                            los distintos rubros de energía y comunicación."
                        </p>
                    </blockquote>
                </div>
            </section>
        </div>
    </Container>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add(
                            "animate__animated",
                            "animate__fadeInLeft",
                            "animate__slow",
                        );
                        observer.unobserve(entry.target);
                    }
                });
            });

            document
                .querySelectorAll(".animate-on-scroll")
                .forEach((element) => {
                    observer.observe(element);
                });
        });
    </script>

    <style>
        .custom-img {
            background-image: url("../../../assets/experience/img-6.webp");
            background-size: cover; /* Asegura que la imagen cubra todo el contenedor */
            background-position: center; /* Centra la imagen */
            background-repeat: no-repeat; /* Evita que la imagen se repita */
            border-radius: inherit;
        }
        .blurred-background {
            position: absolute;
            inset: 0;
            background-color: rgba(
                51,
                142,
                211,
                0.5
            ); /* Color celeste con opacidad */
            backdrop-filter: blur(
                2px
            ); /* Ajusta la intensidad del desenfoque */
            border-radius: inherit; /* Aplica el border-radius del contenedor */
        }
    </style>
</section>
