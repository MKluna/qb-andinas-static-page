---
import Container from "../shared/Container.astro";
import FormMensaje from "../forms/FormMensaje.astro";
import FormVentas from "../forms/FormVentas.astro";
import FormMetrogas from "../forms/FormMetrogas.astro";
import FormTrabaja from "../forms/FormTrabaja.astro";
import FormReclamos from "../forms/FormReclamos.astro";
---

<section id="contact" class="pb-20 pt-32 lg:pt-36">
    <Container
        className="flex flex-col midmd:flex-row gap-10 lg:gap-12 text-center"
    >
        <div
            class="mx-auto text-center max-w-xl md:max-w-2xl relative rounded-2xl bg-gradient-to-tr from-gray-100 to-gray-200 dark:from-gray-900 md:px-8"
        >
            <div class="py-8 lg:py-16 px-4 mx-auto max-w-screen-md">
                <h2
                    class="mb-4 text-4xl tracking-tight font-extrabold text-center text-gray-900 dark:text-white"
                >
                    Contáctate con nosotros
                </h2>
                <p
                    class="mb-8 lg:mb-16 font-light text-center text-gray-500 dark:text-gray-400 sm:text-xl"
                >
                    ¿Tienes un problema técnico? ¿Necesitas más información
                    sobre nuestro plan de negocio? Háganoslo saber.
                </p>

                <ul class="my-4 space-y-3">
                    <li>
                        <FormMensaje />
                    </li>
                    <li>
                        <FormVentas />
                    </li>
                    <li>
                        <FormMetrogas />
                    </li>
                    <li>
                        <FormTrabaja />
                    </li>
                    <li>
                        <FormReclamos />
                    </li>
                </ul>
            </div>
        </div>
    </Container>
</section>

<script>
    document.addEventListener("astro:page-load", () => {
        
        function initializeModal(buttonOpenId: string, buttonCloseId: string, buttonCloseXId: string, modalId: string) {
            const buttonOpenModal = document.getElementById(buttonOpenId) as HTMLElement;
            const buttonCloseModal = document.getElementById(buttonCloseId) as HTMLElement;
            const buttonCloseModalX = document.getElementById(buttonCloseXId) as HTMLElement;
            const modal = document.getElementById(modalId) as HTMLElement;
            const body = document.body as HTMLElement;
            const btnToTop = document.getElementById("btn-back-to-top") as HTMLElement;

            buttonOpenModal.addEventListener("click", function () {
                showModal();
            });

            buttonCloseModal.addEventListener("click", function () {
                closeModal();
            });

            buttonCloseModalX.addEventListener("click", function () {
                closeModal();
            });

            modal.addEventListener("click", function (event) {
                if (event.target === modal) {
                    closeModal();
                }
            });

            function showModal() {
                body.style.margin = "0";
                body.style.height = "100%";
                body.style.overflow = "hidden";

                btnToTop.style.zIndex = "0";
            }

            function closeModal() {
                body.style.margin = "";
                body.style.height = "";
                body.style.overflow = "";

                btnToTop.style.zIndex = "999";
            }
        }

        initializeModal("openModalMensaje", "closeModalMensaje", "closeModalXMensaje", "crud-modal-mensaje");
        initializeModal("openModalVentas", "closeModalVentas", "closeModalXVentas", "crud-modal-ventas");
        initializeModal("openModalMetro", "closeModalMetro", "closeModalXMetro", "crud-modal-metro");
        initializeModal("openModalTrabajo", "closeModalTrabajo", "closeModalXTrabajo", "crud-modal-trabajo");
        initializeModal("openModalReclamos", "closeModalReclamos", "closeModalXReclamos", "crud-modal-reclamos");
    });
</script>

