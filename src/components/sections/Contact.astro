---
import Container from "../shared/Container.astro";
import FormMensaje from "../forms/FormMensaje.astro";
import FormVentas from "../forms/FormVentas.astro";
import FormMetrogas from "../forms/FormMetrogas.astro";
import FormTrabaja from "../forms/FormTrabaja.astro";
import FormReclamos from "../forms/FormReclamos.astro";
import { CONTACT_TXT, CONTACT_URL } from "../../mock/public-txt";
---

<section id="contact" class="pb-20 pt-12 lg:pt-12">
    <Container
        className="flex flex-col midmd:flex-row gap-10 lg:gap-12 text-center"
    >
        <div
            class="mx-auto text-center max-w-xl md:max-w-2xl relative rounded-2xl bg-gradient-to-tr from-gray-100 to-gray-200 dark:from-gray-900 md:px-8"
        >
            <div class="py-8 lg:py-16 px-4 mx-auto max-w-screen-md">
                <h2
                    class="mb-4 text-4xl tracking-tight font-extrabold text-center text-gray-900 dark:text-white"
                >
                    {CONTACT_TXT.TITLE}
                </h2>
                <ul class="my-4 space-y-3">
                    <li>
                        <!-- <FormMensaje /> -->
                        <a
                            href={CONTACT_URL.URL_FORM_MSJ}
                            class="flex items-center p-3 text-base font-bold text-white bg-[#00AAD2] hover:bg-[#0077b6;] focus:ring-4 focus:outline-none focus:ring-blue-700 dark:focus:ring-blue-900 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center"
                        >
                            <span class="flex-1 ms-3 whitespace-nowrap"
                                >Mensajeria</span
                            >
                        </a>
                    </li>
                    <li>
                        <!-- <FormVentas /> -->
                        <a
                            href={CONTACT_URL.URL_FORM_VENTAS}
                            class="flex items-center p-3 text-base font-bold text-white bg-[#34537A] hover:bg-[#1f3149] focus:ring-4 focus:outline-none focus:ring-blue-700 dark:focus:ring-blue-900 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center"
                        >
                            <span class="flex-1 ms-3 whitespace-nowrap"
                                >Ventas y Servicios</span
                            >
                        </a>
                    </li>
                    <li>
                        <!-- <FormMetrogas /> -->
                        <a
                            href={CONTACT_URL.URL_FORM_METRO}
                            class="flex items-center p-3 text-base font-bold text-white bg-[#2A4B90] hover:bg-[#192d56] focus:ring-4 focus:outline-none focus:ring-blue-700 dark:focus:ring-blue-900 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center"
                        >
                            <span class="flex-1 ms-3 whitespace-nowrap"
                                >Metrogas</span
                            >
                        </a>
                    </li>
                    <li>
                        <!-- <FormTrabaja /> -->
                        <a
                            href={CONTACT_URL.URL_FORM_TRABAJA}
                            class="flex items-center p-3 text-base font-bold text-white bg-[#2A4B90] hover:bg-[#192d56] focus:ring-4 focus:outline-none focus:ring-blue-700 dark:focus:ring-blue-900 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center"
                        >
                            <span class="flex-1 ms-3 whitespace-nowrap"
                                >Trabaja con nosotros</span
                            >
                        </a>
                    </li>
                    <li>
                        <!-- <FormReclamos /> -->
                        <a
                            href={CONTACT_URL.URL_FORM_RECLAMOS}
                            class="flex items-center p-3 text-base font-bold text-white bg-[#1A3E51] hover:bg-[#0f2530] focus:ring-4 focus:outline-none focus:ring-blue-700 dark:focus:ring-blue-900 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center"
                        >
                            <span class="flex-1 ms-3 whitespace-nowrap"
                                >Reclamos y o Sugerencias</span
                            >
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </Container>
</section>

<script>
    document.addEventListener("astro:page-load", () => {
        function initializeModal(
            buttonOpenId: string,
            buttonCloseId: string,
            buttonCloseXId: string,
            modalId: string,
        ) {
            console.log(
                "Initializing modal with IDs:",
                buttonOpenId,
                buttonCloseId,
                buttonCloseXId,
                modalId,
            );

            const buttonOpenModal = document.getElementById(
                buttonOpenId,
            ) as HTMLElement;
            const buttonCloseModal = document.getElementById(
                buttonCloseId,
            ) as HTMLElement;
            const buttonCloseModalX = document.getElementById(
                buttonCloseXId,
            ) as HTMLElement;
            const modal = document.getElementById(modalId) as HTMLElement;
            const body = document.body as HTMLElement;
            const btnToTop = document.getElementById(
                "btn-back-to-top",
            ) as HTMLElement;

            buttonOpenModal.addEventListener("click", function () {
                console.log("Opening modal...");
                showModal();
            });

            buttonCloseModal.addEventListener("click", function () {
                console.log("Closing modal...");
                closeModal();
            });

            buttonCloseModalX.addEventListener("click", function () {
                console.log("Closing modal with X button...");
                closeModal();
            });

            modal.addEventListener("click", function (event) {
                if (event.target === modal) {
                    console.log("Clicking outside modal...");
                    closeModal();
                }
            });

            function showModal() {
                console.log("Showing modal...");
                body.style.margin = "0";
                body.style.height = "100%";
                body.style.overflow = "hidden";

                btnToTop.style.zIndex = "0";
            }

            function closeModal() {
                console.log("Closing modal...");
                body.style.margin = "";
                body.style.height = "";
                body.style.overflow = "";

                btnToTop.style.zIndex = "999";
            }
        }

        initializeModal(
            "openModalMensaje",
            "closeModalMensaje",
            "closeModalXMensaje",
            "crud-modal-mensaje",
        );
        initializeModal(
            "openModalVentas",
            "closeModalVentas",
            "closeModalXVentas",
            "crud-modal-ventas",
        );
        initializeModal(
            "openModalMetro",
            "closeModalMetro",
            "closeModalXMetro",
            "crud-modal-metro",
        );
        initializeModal(
            "openModalTrabajo",
            "closeModalTrabajo",
            "closeModalXTrabajo",
            "crud-modal-trabajo",
        );
        initializeModal(
            "openModalReclamos",
            "closeModalReclamos",
            "closeModalXReclamos",
            "crud-modal-reclamos",
        );
    });
</script>
